name: build-test
on: [push]

env:
  SOLANA_VERSION: v1.9.9
  ANCHOR_VERSION: 0.24.2

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: metadaoproject/setup-anchor@v2
        with: 
          anchor-version: '0.28.0' 
          solana-cli-version: '1.14.20'
          node-version: '16.15.1'
      - run: rustup update
        shell: bash
      - run: anchor build
        shell: bash 
      - run: anchor test
        shell: bash
